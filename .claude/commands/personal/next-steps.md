# /next-steps - Session Handoff Generator

Generates comprehensive session-end documentation for seamless context switching between work sessions.

## Problem This Solves

**Context Loss**: Returning to a project after hours/days, forgot where you were
**Missed Tasks**: Small bugs or features noted mentally but never tracked
**Parallel Work**: Multiple developers/sessions need to know what's ready to build
**Handoff Pain**: Switching between agents or terminals loses context

## What This Does

Automatically generates `docs/next-steps.md` with:
- Last completed task (with timestamp)
- Current blockers preventing progress
- Ready queue (parallelizable work)
- Context crumbs (files changed, commands run, etc.)
- Next session priorities

## Usage

```bash
# At end of session
/next-steps

# With project context
/next-steps "Completed auth module, blocked on API keys"
```

## Workflow

### Phase 1: Gather Context

1. **Git Status**: What files changed?
   ```bash
   git status
   git diff --stat
   git log -5 --oneline
   ```

2. **Todo List**: Check for active TodoWrite tasks

3. **Recent Activity**: Last few commands/operations

4. **Test Status**: Are tests passing?
   ```bash
   npm test --silent
   ```

### Phase 2: Analyze State

1. **Completed Work**: What was finished this session?
2. **Blockers**: What's preventing progress?
3. **Ready Queue**: What can be worked on in parallel?
4. **Dependencies**: What's waiting on what?

### Phase 3: Generate Document

Create `docs/next-steps.md`:

```markdown
# Next Steps - [Project Name]
Generated: [ISO Timestamp]

## Last Completed Task
- **Task**: [Description]
- **Completed**: [Time]
- **Status**: ✅ Success / ⚠️ Partial / ❌ Blocked
- **Files Changed**: [List]

## Current Blockers
- [ ] **[Blocker 1]**: [Details and what's needed]
- [ ] **[Blocker 2]**: [Details and what's needed]

## Ready Queue (Parallelizable Work)
Tasks that can be worked on independently:
- [ ] **[Task 1]**: [Description] - Est: [time]
- [ ] **[Task 2]**: [Description] - Est: [time]
- [ ] **[Task 3]**: [Description] - Est: [time]

## Context Crumbs
### Files Modified
- [file1] - [brief description of changes]
- [file2] - [brief description of changes]

### Commands Run
- `[command1]` - [what it did]
- `[command2]` - [what it did]

### Dependencies Added
- [package1]@[version] - [purpose]
- [package2]@[version] - [purpose]

### Test Status
- Total: [X] tests
- Passing: [Y]
- Failing: [Z]
- Coverage: [%]

## Next Session Priorities
1. **[Priority 1]**: [Why it's first]
2. **[Priority 2]**: [Why it's second]
3. **[Priority 3]**: [Why it's third]

## Notes for Next Session
[Any additional context, decisions made, things to remember]

## Quick Start Next Session
```bash
# Resume from here
git checkout [branch]
[command to get started]
```

---
_Auto-generated by /next-steps command_
```

### Phase 4: Offer Git Commit

"Would you like me to commit these changes with next-steps.md?"

If yes:
```bash
git add docs/next-steps.md
git add [modified files]
git commit -m "Session end: [brief summary]

Added next-steps.md for session handoff"
```

## Example Output

```markdown
# Next Steps - Project Template Build
Generated: 2025-01-15T14:32:00Z

## Last Completed Task
- **Task**: Created all component templates and automation scripts
- **Completed**: 14:30
- **Status**: ✅ Success
- **Files Changed**: 6 files in .system/boilerplate/, 2 files in .system/scripts/

## Current Blockers
None - ready for integration phase

## Ready Queue (Parallelizable Work)
- [ ] **Build /integrate command**: Est 20min
- [ ] **Build /checklist command**: Est 15min
- [ ] **Create MCP server**: Est 25min
- [ ] **Enhance /debug-css**: Est 20min

## Context Crumbs
### Files Modified
- .system/boilerplate/component-spec.md - Added component specification template
- .system/boilerplate/component.js - JavaScript component boilerplate
- .system/boilerplate/component.test.js - Test template
- .system/boilerplate/component.css - CSS template with BEM
- .system/scripts/build-components.sh - Batch component builder
- .system/scripts/checklist.md - Pre-game ritual content

### Commands Run
- `mkdir templates scripts` - Created folder structure
- `chmod +x .system/scripts/build-components.sh` - Made script executable

### Test Status
- No tests run this session (template creation)

## Next Session Priorities
1. **Integration Commands**: Build /integrate and /integrate-mcp (highest value)
2. **Session Management**: Build /next-steps and /checklist
3. **MCP Server**: Set up component registry
4. **Validation**: Run full template validation

## Notes for Next Session
All templates follow BEM CSS methodology. Scripts use bash for portability.
Ready to build the integration commands - these are highest priority per planning-notes.md.

## Quick Start Next Session
```bash
# Terminal setup for parallel building
# Open 4 terminals and assign tasks from README-BUILD-PLAN.md
```
```

## Configuration

Can be customized in `.claude/config/settings.json`:
```json
{
  "next_steps": {
    "auto_commit": true,
    "include_git_diff": true,
    "max_recent_commands": 10
  }
}
```

## See Also

- `/checklist` - Start session preparation
- `README-BUILD-PLAN.md` - Task breakdown for parallel work
- `docs/next-steps.md` - Generated output location
