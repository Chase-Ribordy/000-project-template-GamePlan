b0947bc434e257270dcb71eead9439c0
/**
 * Mock implementation of Example Button Component
 * Based on: .system/contracts/example-button-contract.md
 */

class ExampleButton {
  constructor(config) {
    this.config = config;
    this.clickCount = 0;
    this.element = null;
    this.validateInputs(config);
    this.render();
  }

  /**
   * Validate required inputs per contract
   */
  validateInputs(config) {
    if (!config.label) {
      throw new Error('ExampleButton: label is required');
    }
    if (!config.containerId) {
      throw new Error('ExampleButton: containerId is required');
    }
  }

  /**
   * Render the button element
   */
  render() {
    const container = document.getElementById(this.config.containerId);
    if (!container) {
      throw new Error(`ExampleButton: Container #${this.config.containerId} not found`);
    }

    // Create button with proper CSS namespace
    this.element = document.createElement('button');
    this.element.className = this.getButtonClass();
    this.element.textContent = this.config.label;
    this.element.setAttribute('data-component', 'example-button');

    // Attach click handler
    this.element.addEventListener('click', this.handleClick.bind(this));

    // Append to container
    container.appendChild(this.element);
  }

  /**
   * Get button class based on variant (CSS Contract: .component-example-button-)
   */
  getButtonClass() {
    const base = 'component-example-button';
    const variant = this.config.variant || 'primary';
    return `${base} ${base}-${variant}`;
  }

  /**
   * Handle click events
   */
  handleClick(event) {
    this.clickCount++;

    // Update button text with count
    this.element.textContent = `${this.config.label} (${this.clickCount})`;

    // Call user's onClick callback if provided
    if (this.config.onClick) {
      this.config.onClick({
        count: this.clickCount,
        timestamp: Date.now(),
        element: this.element
      });
    }

    // Emit custom event
    const customEvent = new CustomEvent('button-clicked', {
      detail: {
        count: this.clickCount,
        label: this.config.label
      }
    });
    this.element.dispatchEvent(customEvent);
  }

  /**
   * API: Get current click count
   */
  getCount() {
    return this.clickCount;
  }

  /**
   * API: Reset click count
   */
  reset() {
    this.clickCount = 0;
    this.element.textContent = this.config.label;
  }

  /**
   * API: Destroy component and cleanup
   */
  destroy() {
    if (this.element) {
      this.element.removeEventListener('click', this.handleClick);
      this.element.remove();
      this.element = null;
    }
  }

  /**
   * API: Get component metadata for MCP registration
   */
  getMetadata() {
    return {
      name: 'example-button',
      cssNamespace: 'component-example-button',
      jsAPI: ['getCount', 'reset', 'destroy', 'getMetadata'],
      dependencies: [],
      events: ['button-clicked']
    };
  }
}
module.exports = ExampleButton;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFeGFtcGxlQnV0dG9uIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJjbGlja0NvdW50IiwiZWxlbWVudCIsInZhbGlkYXRlSW5wdXRzIiwicmVuZGVyIiwibGFiZWwiLCJFcnJvciIsImNvbnRhaW5lcklkIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJnZXRCdXR0b25DbGFzcyIsInRleHRDb250ZW50Iiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsaWNrIiwiYmluZCIsImFwcGVuZENoaWxkIiwiYmFzZSIsInZhcmlhbnQiLCJldmVudCIsIm9uQ2xpY2siLCJjb3VudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJjdXN0b21FdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiZGlzcGF0Y2hFdmVudCIsImdldENvdW50IiwicmVzZXQiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImdldE1ldGFkYXRhIiwibmFtZSIsImNzc05hbWVzcGFjZSIsImpzQVBJIiwiZGVwZW5kZW5jaWVzIiwiZXZlbnRzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImJ1dHRvbi1jb21wb25lbnQtbW9jay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vY2sgaW1wbGVtZW50YXRpb24gb2YgRXhhbXBsZSBCdXR0b24gQ29tcG9uZW50XG4gKiBCYXNlZCBvbjogLnN5c3RlbS9jb250cmFjdHMvZXhhbXBsZS1idXR0b24tY29udHJhY3QubWRcbiAqL1xuXG5jbGFzcyBFeGFtcGxlQnV0dG9uIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jbGlja0NvdW50ID0gMDtcbiAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMudmFsaWRhdGVJbnB1dHMoY29uZmlnKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHJlcXVpcmVkIGlucHV0cyBwZXIgY29udHJhY3RcbiAgICovXG4gIHZhbGlkYXRlSW5wdXRzKGNvbmZpZykge1xuICAgIGlmICghY29uZmlnLmxhYmVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4YW1wbGVCdXR0b246IGxhYmVsIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIGlmICghY29uZmlnLmNvbnRhaW5lcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4YW1wbGVCdXR0b246IGNvbnRhaW5lcklkIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgYnV0dG9uIGVsZW1lbnRcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbmZpZy5jb250YWluZXJJZCk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXhhbXBsZUJ1dHRvbjogQ29udGFpbmVyICMke3RoaXMuY29uZmlnLmNvbnRhaW5lcklkfSBub3QgZm91bmRgKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYnV0dG9uIHdpdGggcHJvcGVyIENTUyBuYW1lc3BhY2VcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy5nZXRCdXR0b25DbGFzcygpO1xuICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuY29uZmlnLmxhYmVsO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcG9uZW50JywgJ2V4YW1wbGUtYnV0dG9uJyk7XG5cbiAgICAvLyBBdHRhY2ggY2xpY2sgaGFuZGxlclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICAvLyBBcHBlbmQgdG8gY29udGFpbmVyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGJ1dHRvbiBjbGFzcyBiYXNlZCBvbiB2YXJpYW50IChDU1MgQ29udHJhY3Q6IC5jb21wb25lbnQtZXhhbXBsZS1idXR0b24tKVxuICAgKi9cbiAgZ2V0QnV0dG9uQ2xhc3MoKSB7XG4gICAgY29uc3QgYmFzZSA9ICdjb21wb25lbnQtZXhhbXBsZS1idXR0b24nO1xuICAgIGNvbnN0IHZhcmlhbnQgPSB0aGlzLmNvbmZpZy52YXJpYW50IHx8ICdwcmltYXJ5JztcbiAgICByZXR1cm4gYCR7YmFzZX0gJHtiYXNlfS0ke3ZhcmlhbnR9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2sgZXZlbnRzXG4gICAqL1xuICBoYW5kbGVDbGljayhldmVudCkge1xuICAgIHRoaXMuY2xpY2tDb3VudCsrO1xuXG4gICAgLy8gVXBkYXRlIGJ1dHRvbiB0ZXh0IHdpdGggY291bnRcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aGlzLmNvbmZpZy5sYWJlbH0gKCR7dGhpcy5jbGlja0NvdW50fSlgO1xuXG4gICAgLy8gQ2FsbCB1c2VyJ3Mgb25DbGljayBjYWxsYmFjayBpZiBwcm92aWRlZFxuICAgIGlmICh0aGlzLmNvbmZpZy5vbkNsaWNrKSB7XG4gICAgICB0aGlzLmNvbmZpZy5vbkNsaWNrKHtcbiAgICAgICAgY291bnQ6IHRoaXMuY2xpY2tDb3VudCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEVtaXQgY3VzdG9tIGV2ZW50XG4gICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2J1dHRvbi1jbGlja2VkJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGNvdW50OiB0aGlzLmNsaWNrQ291bnQsXG4gICAgICAgIGxhYmVsOiB0aGlzLmNvbmZpZy5sYWJlbFxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBUEk6IEdldCBjdXJyZW50IGNsaWNrIGNvdW50XG4gICAqL1xuICBnZXRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGlja0NvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEFQSTogUmVzZXQgY2xpY2sgY291bnRcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuY2xpY2tDb3VudCA9IDA7XG4gICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5jb25maWcubGFiZWw7XG4gIH1cblxuICAvKipcbiAgICogQVBJOiBEZXN0cm95IGNvbXBvbmVudCBhbmQgY2xlYW51cFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFQSTogR2V0IGNvbXBvbmVudCBtZXRhZGF0YSBmb3IgTUNQIHJlZ2lzdHJhdGlvblxuICAgKi9cbiAgZ2V0TWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICdleGFtcGxlLWJ1dHRvbicsXG4gICAgICBjc3NOYW1lc3BhY2U6ICdjb21wb25lbnQtZXhhbXBsZS1idXR0b24nLFxuICAgICAganNBUEk6IFsnZ2V0Q291bnQnLCAncmVzZXQnLCAnZGVzdHJveScsICdnZXRNZXRhZGF0YSddLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgIGV2ZW50czogWydidXR0b24tY2xpY2tlZCddXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV4YW1wbGVCdXR0b247XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGFBQWEsQ0FBQztFQUNsQkMsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ2xCLElBQUksQ0FBQ0EsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUM7SUFDbkIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSTtJQUNuQixJQUFJLENBQUNDLGNBQWMsQ0FBQ0gsTUFBTSxDQUFDO0lBQzNCLElBQUksQ0FBQ0ksTUFBTSxDQUFDLENBQUM7RUFDZjs7RUFFQTtBQUNGO0FBQ0E7RUFDRUQsY0FBY0EsQ0FBQ0gsTUFBTSxFQUFFO0lBQ3JCLElBQUksQ0FBQ0EsTUFBTSxDQUFDSyxLQUFLLEVBQUU7TUFDakIsTUFBTSxJQUFJQyxLQUFLLENBQUMsa0NBQWtDLENBQUM7SUFDckQ7SUFDQSxJQUFJLENBQUNOLE1BQU0sQ0FBQ08sV0FBVyxFQUFFO01BQ3ZCLE1BQU0sSUFBSUQsS0FBSyxDQUFDLHdDQUF3QyxDQUFDO0lBQzNEO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ0VGLE1BQU1BLENBQUEsRUFBRztJQUNQLE1BQU1JLFNBQVMsR0FBR0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsSUFBSSxDQUFDVixNQUFNLENBQUNPLFdBQVcsQ0FBQztJQUNsRSxJQUFJLENBQUNDLFNBQVMsRUFBRTtNQUNkLE1BQU0sSUFBSUYsS0FBSyxDQUFDLDZCQUE2QixJQUFJLENBQUNOLE1BQU0sQ0FBQ08sV0FBVyxZQUFZLENBQUM7SUFDbkY7O0lBRUE7SUFDQSxJQUFJLENBQUNMLE9BQU8sR0FBR08sUUFBUSxDQUFDRSxhQUFhLENBQUMsUUFBUSxDQUFDO0lBQy9DLElBQUksQ0FBQ1QsT0FBTyxD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