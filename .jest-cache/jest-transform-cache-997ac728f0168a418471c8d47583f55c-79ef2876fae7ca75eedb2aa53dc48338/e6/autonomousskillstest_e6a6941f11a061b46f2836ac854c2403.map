{"version":3,"names":["fs","require","path","describe","claudeDir","join","__dirname","skillsDir","test","expect","existsSync","toBe","skillFiles","readdirSync","filter","f","endsWith","length","toBeGreaterThanOrEqual","coreSkills","forEach","skill","skillPath","content","readFileSync","toBeTruthy","toBeGreaterThan","triggerMatrixPath","toMatch","eventsDir","eventLogPath","commandsDir","commandFiles","Array","isArray","commands","cmd","cmdPath","statusFile","toLowerCase","contractSkill","validationSkill","sandboxSkill","integrationSkill","includes","isValid","match","foundSystemReferences"],"sources":["autonomous-skills.test.js"],"sourcesContent":["/**\n * Autonomous Skills & Workflows Tests\n * Verifies the event-driven skills architecture is properly configured\n */\n\nconst fs = require('fs');\nconst path = require('path');\n\ndescribe('Autonomous Skills Architecture', () => {\n  const claudeDir = path.join(__dirname, '../../../.claude');\n  const skillsDir = path.join(claudeDir, 'skills');\n\n  describe('Skills Directory Structure', () => {\n    test('should have .claude directory', () => {\n      expect(fs.existsSync(claudeDir)).toBe(true);\n    });\n\n    test('should have skills directory', () => {\n      expect(fs.existsSync(skillsDir)).toBe(true);\n    });\n\n    test('should have skills files', () => {\n      if (fs.existsSync(skillsDir)) {\n        const skillFiles = fs.readdirSync(skillsDir).filter(f => f.endsWith('.md') || f.endsWith('.yaml'));\n\n        // Should have at least some configuration\n        expect(skillFiles.length).toBeGreaterThanOrEqual(0);\n      }\n    });\n  });\n\n  describe('Core Skills Existence', () => {\n    const coreSkills = [\n      'contract_creation.md',\n      'component_validation.md',\n      'sandbox_testing.md',\n      'component_integration.md',\n      'pass_orchestration.md',\n      'progress_reporter.md'\n    ];\n\n    test('should have core autonomous skills defined (if applicable)', () => {\n      coreSkills.forEach(skill => {\n        const skillPath = path.join(skillsDir, skill);\n\n        if (fs.existsSync(skillPath)) {\n          const content = fs.readFileSync(skillPath, 'utf8');\n          expect(content).toBeTruthy();\n          expect(content.length).toBeGreaterThan(50);\n        }\n      });\n    });\n  });\n\n  describe('Trigger Matrix Configuration', () => {\n    const triggerMatrixPath = path.join(skillsDir, 'trigger-matrix.yaml');\n\n    test('should have trigger matrix if skills are configured', () => {\n      if (fs.existsSync(skillsDir)) {\n        const skillFiles = fs.readdirSync(skillsDir);\n\n        if (skillFiles.length > 0) {\n          // If we have skills, we should ideally have a trigger matrix\n          // But it's OK if we don't in a minimal setup\n          expect(true).toBe(true);\n        }\n      }\n    });\n\n    test('should have valid YAML structure if trigger matrix exists', () => {\n      if (fs.existsSync(triggerMatrixPath)) {\n        const content = fs.readFileSync(triggerMatrixPath, 'utf8');\n\n        // Basic YAML validation - should not throw\n        expect(content).toBeTruthy();\n\n        // Should contain key sections\n        expect(content).toMatch(/trigger|event|skill/i);\n      }\n    });\n  });\n\n  describe('Event System', () => {\n    const eventsDir = path.join(__dirname, '../../../.system/events');\n\n    test('should have events directory in .system', () => {\n      expect(fs.existsSync(eventsDir)).toBe(true);\n    });\n\n    test('should have event-log.yaml capability', () => {\n      const eventLogPath = path.join(eventsDir, 'event-log.yaml');\n\n      if (fs.existsSync(eventLogPath)) {\n        const content = fs.readFileSync(eventLogPath, 'utf8');\n        expect(content).toBeTruthy();\n      } else {\n        // Event log is created during execution - OK if it doesn't exist yet\n        expect(fs.existsSync(eventsDir)).toBe(true);\n      }\n    });\n  });\n\n  describe('Workflow Commands', () => {\n    const commandsDir = path.join(claudeDir, 'commands');\n\n    test('should have commands directory if workflows are configured', () => {\n      if (fs.existsSync(commandsDir)) {\n        const commandFiles = fs.readdirSync(commandsDir);\n        expect(Array.isArray(commandFiles)).toBe(true);\n      }\n    });\n\n    test('should have workflow slash commands if configured', () => {\n      if (fs.existsSync(commandsDir)) {\n        const commands = fs.readdirSync(commandsDir).filter(f => f.endsWith('.md'));\n\n        // If we have commands, they should be valid markdown\n        commands.forEach(cmd => {\n          const cmdPath = path.join(commandsDir, cmd);\n          const content = fs.readFileSync(cmdPath, 'utf8');\n          expect(content).toBeTruthy();\n        });\n      }\n    });\n  });\n\n  describe('Pass Orchestration', () => {\n    const statusFile = path.join(__dirname, '../../../.system/execution-status.yaml');\n\n    test('should have execution-status.yaml for pass tracking', () => {\n      if (fs.existsSync(statusFile)) {\n        const content = fs.readFileSync(statusFile, 'utf8');\n\n        // Should define passes\n        expect(content).toMatch(/first.pass|second.pass|third.pass|pass/i);\n      } else {\n        // Status file created during execution - OK if missing\n        expect(true).toBe(true);\n      }\n    });\n\n    test('should define three-pass model if configured', () => {\n      if (fs.existsSync(statusFile)) {\n        const content = fs.readFileSync(statusFile, 'utf8');\n\n        // Should reference the three passes\n        expect(content.toLowerCase()).toMatch(/first|second|third/);\n      }\n    });\n  });\n\n  describe('Skills Content Validation', () => {\n    test('contract_creation skill should define contract generation', () => {\n      const contractSkill = path.join(skillsDir, 'contract_creation.md');\n\n      if (fs.existsSync(contractSkill)) {\n        const content = fs.readFileSync(contractSkill, 'utf8');\n\n        // Should reference contracts\n        expect(content.toLowerCase()).toMatch(/contract|interface|specification/);\n      }\n    });\n\n    test('component_validation skill should define 4-level validation', () => {\n      const validationSkill = path.join(skillsDir, 'component_validation.md');\n\n      if (fs.existsSync(validationSkill)) {\n        const content = fs.readFileSync(validationSkill, 'utf8');\n\n        // Should reference validation levels\n        expect(content.toLowerCase()).toMatch(/level|syntax|test|validation/);\n      }\n    });\n\n    test('sandbox_testing skill should define isolated testing', () => {\n      const sandboxSkill = path.join(skillsDir, 'sandbox_testing.md');\n\n      if (fs.existsSync(sandboxSkill)) {\n        const content = fs.readFileSync(sandboxSkill, 'utf8');\n\n        // Should reference sandbox\n        expect(content.toLowerCase()).toMatch(/sandbox|isolat|test/);\n      }\n    });\n\n    test('component_integration skill should define safe integration', () => {\n      const integrationSkill = path.join(skillsDir, 'component_integration.md');\n\n      if (fs.existsSync(integrationSkill)) {\n        const content = fs.readFileSync(integrationSkill, 'utf8');\n\n        // Should reference integration\n        expect(content.toLowerCase()).toMatch(/integrat|inject|merge/);\n      }\n    });\n  });\n\n  describe('Event Flow Configuration', () => {\n    test('should define event emission triggers', () => {\n      const triggerMatrixPath = path.join(skillsDir, 'trigger-matrix.yaml');\n\n      if (fs.existsSync(triggerMatrixPath)) {\n        const content = fs.readFileSync(triggerMatrixPath, 'utf8');\n\n        // Should define events that trigger skills\n        expect(content).toMatch(/component_extracted|contract_created|validation_completed/);\n      }\n    });\n\n    test('should define skill priorities if configured', () => {\n      const triggerMatrixPath = path.join(skillsDir, 'trigger-matrix.yaml');\n\n      if (fs.existsSync(triggerMatrixPath)) {\n        const content = fs.readFileSync(triggerMatrixPath, 'utf8');\n\n        // Should have priority configuration\n        expect(content).toMatch(/priority|order/i);\n      }\n    });\n  });\n\n  describe('Parallel Processing Configuration', () => {\n    test('should define parallel component processing settings', () => {\n      const triggerMatrixPath = path.join(skillsDir, 'trigger-matrix.yaml');\n\n      if (fs.existsSync(triggerMatrixPath)) {\n        const content = fs.readFileSync(triggerMatrixPath, 'utf8');\n\n        // Should configure parallel processing\n        expect(content).toMatch(/parallel|concurrent|max_parallel/i);\n      }\n    });\n\n    test('should limit max parallel components for safety', () => {\n      const triggerMatrixPath = path.join(skillsDir, 'trigger-matrix.yaml');\n\n      if (fs.existsSync(triggerMatrixPath)) {\n        const content = fs.readFileSync(triggerMatrixPath, 'utf8');\n\n        if (content.includes('max_parallel')) {\n          // Should have reasonable limits (1-10)\n          expect(content).toMatch(/max_parallel.*[1-9]/);\n        }\n      }\n    });\n  });\n\n  describe('Documentation & Metadata', () => {\n    test('skills should have descriptive names', () => {\n      if (fs.existsSync(skillsDir)) {\n        const skillFiles = fs.readdirSync(skillsDir).filter(f => f.endsWith('.md'));\n\n        skillFiles.forEach(skill => {\n          // Should use snake_case or kebab-case (allow README.md)\n          const isValid = skill.match(/^[a-z_-]+\\.md$/) || skill === 'README.md';\n          expect(isValid).toBeTruthy();\n        });\n      }\n    });\n\n    test('skills should have markdown content', () => {\n      if (fs.existsSync(skillsDir)) {\n        const skillFiles = fs.readdirSync(skillsDir).filter(f => f.endsWith('.md'));\n\n        skillFiles.forEach(skill => {\n          const skillPath = path.join(skillsDir, skill);\n          const content = fs.readFileSync(skillPath, 'utf8');\n\n          // Should have substantial content (not just a stub)\n          expect(content.length).toBeGreaterThan(50);\n        });\n      }\n    });\n  });\n\n  describe('Integration with .system', () => {\n    test('skills should reference .system directories', () => {\n      if (fs.existsSync(skillsDir)) {\n        const skillFiles = fs.readdirSync(skillsDir).filter(f => f.endsWith('.md') && f !== 'README.md');\n\n        let foundSystemReferences = false;\n\n        skillFiles.forEach(skill => {\n          const skillPath = path.join(skillsDir, skill);\n          const content = fs.readFileSync(skillPath, 'utf8');\n\n          // Many skills should reference .system\n          if (content.includes('.system')) {\n            foundSystemReferences = true;\n            expect(content).toMatch(/\\.system\\/(?:contracts|components|sandbox|proven|mcp-servers|events)/);\n          }\n        });\n\n        // At least some skills should reference .system (not required for all)\n        expect(true).toBe(true);\n      }\n    });\n  });\n\n  describe('Skill Autonomy Indicators', () => {\n    test('autonomous skills should emit events', () => {\n      const integrationSkill = path.join(skillsDir, 'component_integration.md');\n\n      if (fs.existsSync(integrationSkill)) {\n        const content = fs.readFileSync(integrationSkill, 'utf8');\n\n        // Autonomous skills should emit events\n        if (content.toLowerCase().includes('autonomous')) {\n          expect(content.toLowerCase()).toMatch(/emit|event|trigger/);\n        }\n      }\n    });\n\n    test('skills should define when they activate', () => {\n      if (fs.existsSync(skillsDir)) {\n        const skillFiles = fs.readdirSync(skillsDir).filter(f => f.endsWith('.md'));\n\n        skillFiles.forEach(skill => {\n          const skillPath = path.join(skillsDir, skill);\n          const content = fs.readFileSync(skillPath, 'utf8');\n\n          // Should define trigger conditions\n          if (content.length > 200) {\n            expect(content.toLowerCase()).toMatch(/when|trigger|activate|listen|event/);\n          }\n        });\n      }\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}