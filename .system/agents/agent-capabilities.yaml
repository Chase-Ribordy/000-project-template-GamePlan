# Agent Capabilities Registry
# Simplified flat structure for sub-agent model
# Used by orc-exe for agent coordination

version: 2.0.0
last_updated: 2025-11-23

# ==============================================================================
# CORE AGENTS - Flat hierarchy, no layers
# ==============================================================================

agents:
  orc-exe:
    name: ORC-EXE
    role: Sprint Execution Coordinator
    location: .system/agents/orc-exe.md

    specializations:
      - Sprint execution orchestration
      - Parallel work coordination
      - Multi-terminal management
      - Pass transition coordination
      - Contract generation
      - Integration management
      - Validation orchestration

    skills_access:
      - orc-exe/*                # All orchestrator skills
      - sprint-batch-analyzer    # Dependency analysis
      - pass-manager             # Pass transitions
      - review-queue             # Code review management

    execution_modes:
      - manual_coordination      # Operator-driven decisions
      - autonomous_delegation    # Auto-assign agents to tasks

    escalation: operator

  pm:
    name: Product Manager
    role: Product Requirements & Prioritization
    location: .system/agents/pm.md

    specializations:
      - Product requirements definition
      - Feature prioritization
      - Stakeholder communication
      - Story acceptance criteria

    execution_modes:
      - collaborative            # Works with operator

    escalation: orc-exe

  architect:
    name: Architect
    role: System Design & Technical Decisions
    location: .system/agents/architect.md

    specializations:
      - System architecture design
      - Technical decision making
      - Component structure planning
      - Integration patterns

    execution_modes:
      - collaborative

    escalation: orc-exe

  sm:
    name: Scrum Master
    role: Sprint Planning & Process Facilitation
    location: .system/agents/sm.md

    specializations:
      - Sprint planning
      - Story breakdown
      - Process facilitation
      - Impediment removal

    execution_modes:
      - collaborative

    escalation: orc-exe

  dev-base:
    name: Developer (Base)
    role: Core Development Capabilities
    location: .system/agents/dev-base.md

    specializations:
      - Code implementation
      - Test writing
      - Bug fixing
      - Refactoring

    note: Extended by pass-specific variants

    execution_modes:
      - manual
      - autonomous

    escalation: orc-exe

  dev-first-pass:
    name: Developer (First Pass)
    role: Rapid Feature Implementation
    location: .system/agents/dev-first-pass.md
    extends: dev-base

    specializations:
      - Rapid prototyping
      - Feature scaffolding
      - Contract stub generation
      - Happy path implementation

    pass: 1
    focus: speed_over_perfection

    execution_modes:
      - autonomous

    escalation: orc-exe

  dev-second-pass:
    name: Developer (Second Pass)
    role: Polish & Edge Cases
    location: .system/agents/dev-second-pass.md
    extends: dev-base

    specializations:
      - Edge case handling
      - Error handling
      - Performance optimization
      - Code cleanup

    pass: 2
    focus: completeness

    execution_modes:
      - autonomous

    escalation: orc-exe

  dev-third-pass:
    name: Developer (Third Pass)
    role: Integration & Finalization
    location: .system/agents/dev-third-pass.md
    extends: dev-base

    specializations:
      - Cross-component integration
      - Final validation
      - Production readiness
      - Contract verification

    pass: 3
    focus: integration_stability

    execution_modes:
      - supervised

    escalation: orc-exe

# ==============================================================================
# TASK TYPE TO AGENT MAPPINGS
# Simplified mappings for flat agent structure
# ==============================================================================

task_mappings:
  # Development tasks by pass
  first_pass_implementation:
    primary: dev-first-pass
    mode: autonomous

  second_pass_polish:
    primary: dev-second-pass
    mode: autonomous

  third_pass_integration:
    primary: dev-third-pass
    mode: supervised

  # General development
  story_implementation:
    primary: dev-base
    mode: manual

  bug_fixing:
    primary: dev-base
    mode: autonomous

  refactoring:
    primary: dev-base
    mode: manual

  # Planning tasks
  requirements_definition:
    primary: pm
    mode: collaborative

  architecture_design:
    primary: architect
    mode: collaborative

  sprint_planning:
    primary: sm
    mode: collaborative

  # Coordination tasks
  sprint_execution:
    primary: orc-exe
    mode: manual_coordination

  parallel_work_coordination:
    primary: orc-exe
    mode: autonomous_delegation

# ==============================================================================
# EXECUTION MODE DEFINITIONS
# ==============================================================================

execution_modes:
  manual:
    description: Operator drives all decisions, agent assists
    auto_approval: false
    escalation: immediate

  collaborative:
    description: Agent and operator work together
    auto_approval: false
    escalation: at_decision_points

  supervised:
    description: Agent executes with operator approval at checkpoints
    auto_approval: conditional
    escalation: at_checkpoints

  autonomous:
    description: Agent executes fully, escalates only on failure
    auto_approval: true
    escalation: on_failure

  manual_coordination:
    description: Orchestrator coordinates with operator control
    auto_approval: false
    escalation: operator_decision

  autonomous_delegation:
    description: Orchestrator auto-assigns work to agents
    auto_approval: true
    escalation: on_conflict

# ==============================================================================
# NOTES
# ==============================================================================

notes: |
  v2.0.0 Changes:
  - Flattened agent hierarchy (removed strategic/tactical/support layers)
  - Deleted: resource-allocator, integration-manager, validation-controller,
    development-executor, contract-architect, dependency-analyst, testing-specialist
  - These capabilities are now integrated into orc-exe and the three-pass dev system
  - Pass-specific dev agents (first/second/third) handle different execution phases
  - orc-exe handles all coordination, contracts, and validation
